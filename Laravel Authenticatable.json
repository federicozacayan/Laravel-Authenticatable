[[1581233919103,"h1","Laravel Authenticatable"],[1581234107326,"p","Install laravel/ui."],[1581234107539,"html","composer require laravel/ui --dev"],[1581234116777,"p","Install javascript tools."],[1581234116948,"html","php artisan ui vue --auth"],[1581234117134,"p","Run javascript tools."],[1581234117310,"html","npm install && npm run dev"],[1581234117478,"h2","Create a model"],[1581234117668,"html","php artisan make:model Administrator --all\n"],[1581234198571,"p","After configuring database run the migrations."],[1581234198734,"html","php artisan migrate"],[1581234198897,"p","Copy and paste user model and change the class name and the file name by Administrator and app/Administrator.php."],[1581234199114,"javascript","class Administrator extends Authenticatable"],[1581234580800,"p","Add a new guard in config/auth.php."],[1581234580965,"javascript","'guards' => [\n    ...\n    'admins' => [\n        'driver' => 'session',\n        'provider' => 'admins',\n    ],\n],"],[1581234581137,"p","Add a new provider also in the same file."],[1581234581306,"javascript","'providers' => [\n    ...\n    'admins' => [\n        'driver' => 'eloquent',\n        'model' => App\\Administrator::class,\n    ],\n],"],[1581239236863,"p","Also the password section."],[1581239237052,"javascript","'passwords' => [\n    ...\n    'admins' => [\n        'provider' => 'admins',\n        'table' => 'password_resets',\n        'expire' => 60,\n        'throttle' => 60,\n    ],\n],"],[1581234581462,"p","Add some routes in routes/web.php file."],[1581234581634,"javascript","Route::get('/admin/login', 'AdministratorController@showLoginForm');\nRoute::post('/admin/login', 'AdministratorController@login')->name('admin.login');\nRoute::get('/admin/area', 'AdministratorController@secret')->name('admin.area');\n\nRoute::get('/admin/password/reset','AdminForgotPasswordController@showLinkRequestForm')->name('admin.password.request');\nRoute::post('/admin/password/email','AdminForgotPasswordController@sendResetLinkEmail')->name('admin.password.email');\n\nRoute::get('/admin/password/reset/{token}','AdminResetPasswordController@showResetForm')->name('password.reset');\nRoute::post('/admin/password/reset','AdminResetPasswordController@reset')->name('password.update');\n\nRoute::get('/admin/password/confirm', 'AdministratorConfirmPasswordController@showConfirmForm')->name('admin.password.confirm');\nRoute::post('/admin/password/confirm', 'AdministratorConfirmPasswordController@confirm');"],[1581240434388,"p","Create controller for reset password request."],[1581240649151,"javascript","php artisan make:controller AdminForgotPasswordController"],[1581240543219,"p","app/Http/Controllers/AdminForgotPasswordController.php"],[1581240434736,"javascript","<?php\nnamespace App\\Http\\Controllers\\Auth;\nuse App\\Http\\Controllers\\Controller;\nuse Illuminate\\Foundation\\Auth\\SendsPasswordResetEmails;\nclass AdminForgotPasswordController extends Controller\n{\n    use SendsPasswordResetEmails;\n    public function broker()\n    {\n        return Password::broker('admins');\n    }\n}"],[1581240434933,"p","Create controller for reset password process."],[1581240702478,"javascript","php artisan make:controller AdministratorResetPasswordController"],[1581240545433,"p","app/Http/Controllers/AdminResetPasswordController.php"],[1581240435102,"javascript","<?php\nnamespace App\\Http\\Controllers\\Auth;\nuse App\\Http\\Controllers\\Controller;\nuse App\\Providers\\RouteServiceProvider;\nuse Illuminate\\Foundation\\Auth\\ResetsPasswords;\nclass AdminResetPasswordController extends Controller\n{\n    use ResetsPasswords;\n    protected $redirectTo = RouteServiceProvider::HOME;\n    public function broker()\n    {\n        return Password::broker('admins');\n    }\n}"],[1581240435295,"p","Create controller for confirm password reset process."],[1581240435478,"html","php artisan make:controller AdminConfirmPasswordController"],[1581240436577,"p","Set up the controller in app/Http/Controllers/AdministratorController.php file."],[1581241455376,"javascript","<?php\nnamespace App\\Http\\Controllers\\Auth;\nuse App\\Http\\Controllers\\Controller;\nuse App\\Providers\\RouteServiceProvider;\nuse Illuminate\\Foundation\\Auth\\ConfirmsPasswords;\nclass AdministratorConfirmPasswordController extends Controller\n{\n    use ConfirmsPasswords;\n    protected $redirectTo = RouteServiceProvider::HOME;\n    public function __construct()\n    {\n        $this->middleware('auth');\n    }\n    public function showConfirmForm()\n    {\n        return view('admin.confirm');\n    }\n}\n"],[1581241455570,"p","Now the templates."],[1581241455770,"html","@extends('admin.app')\n...\n<form method=\"POST\" action=\"{{ route('admin.password.update') }}\">\n<form method=\"POST\" action=\"{{ route('admin.password.confirm') }}\">\n<form method=\"POST\" action=\"{{ route('admin.password.email') }}\">\n<form method=\"POST\" action=\"{{ route('admin.password.update') }}\">\n<form method=\"POST\" action=\"{{ route('admin.register') }}\">\n<a class=\"btn btn-link\" href=\"{{ route('admin.password.request') }}\">"],[1581234581984,"p","Set up the controller in app/Http/Controllers/AdministratorController.php file."],[1581234582145,"javascript","<?php\nnamespace App\\Http\\Controllers;\nuse App\\Administrator;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Foundation\\Auth\\AuthenticatesUsers;\nuse Illuminate\\Support\\Facades\\Auth;\nclass AdministratorController extends Controller\n{\n    public function __construct()\n    {\n        $this->middleware('auth:admins', ['only' => ['secret']]);\n    }\n    use AuthenticatesUsers;\n    public function showLoginForm()\n    {\n        return view('admin.login');\n    }\n    private $redirectTo = 'admin/area';\n    public function secret(){\n        $user = auth('admins')->user();\n        echo 'Admin id #'.$user->id;\n    }\n    protected function guard()\n    {\n        return Auth::guard('admins');\n    }\n}\n"],[1581234582330,"p","Copy the emplate  from resources/views/auth/login.blade.php file and paste it in resources/views/admin/login.blade.php file."],[1581234582530,"javascript","@extends('admin.app')\n...\n<form method=\"POST\" action=\"{{ route('admin.login') }}\">"],[1581235111405,"p","Drop the \"Forgot Your Password?\" link."],[1581235111587,"javascript","@if (Route::has('password.request'))\n    <a class=\"btn btn-link\" href=\"{{ route('password.request') }}\">\n        {{ __('Forgot Your Password?') }}\n    </a>\n@endif"],[1581235440067,"p","Copy and paste from resources/views/layouts/app.blade.php to resources/views/admin/app.blade.php."],[1581235111754,"p","Replace the \"Authentication Link\" section by the following code."],[1581235111932,"html","<!-- Authentication Links -->\n@if(auth('admins')->check())\n    <li class=\"nav-item dropdown\">\n        <a id=\"navbarDropdown\" class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" v-pre>\n            {{ auth('admins')->user()->name }} <span class=\"caret\"></span>\n        </a>\n        <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"navbarDropdown\">\n            <a class=\"dropdown-item\" href=\"{{ route('logout') }}\"\n                onclick=\"event.preventDefault();\n                                document.getElementById('logout-form').submit();\">\n                {{ __('Logout') }}\n            </a>\n            <form id=\"logout-form\" action=\"{{ route('logout') }}\" method=\"POST\" style=\"display: none;\">\n                @csrf\n            </form>\n        </div>\n    </li>\n@endif"],[1581233883265,"p","Laravel Jobs"]]